<a ng-click="filterFormOpen = !filterFormOpen" class="filter-toggle" ng-show="!hideFilter">
  Filter Results
    <i class="fa fa-chevron-circle-down" ng-class="{open: filterFormOpen}"></i>
</a>
<form class="filter-form" ng-show="filterFormOpen && !hideFilter">
  <div class="form-group inline">
    <label class="sr-only" for="input">Test Input:</label>
    <input type="text" class="form-control" ng-model="inputFilter" placeholder="Test Input"/>
  </div>
  <div class="form-group inline">
    <label class="sr-only" for="testName">Test Name:</label>
    <select name="repeatSelect" id="repeatSelect" ng-model="testNameFilter">
        <option value="">-- Select Nettest --</option>
        <option ng-repeat="option in nettests" value="{{option.name}}">{{option.long_name}}</option>
    </select>
  </div>
  <div class="form-group" ng-show="countryCodes">
    <label class="sr-only" for="countryCode">Country Code:</label>

    <select name="repeatSelectCountry"
      id="countryCode"
      ng-model="countryCodeFilter"
      ng-options="key as value for (key, value) in allCountryCodes">
        <option value="">-- Select Country Code --</option>
    </select>
    <!-- <input type="text" class="form-control" ng-model="countryCodeFilter" placeholder="Country code"/> -->
  </div>
  <br ng-show="!countryCodes"/>

  <div class="form-group inline date-range">
    <label>Date Range</label>
    <input date-range-picker
      class="form-control date-picker"
      type="text"
      ng-model="dateRangePicker.date"
      options="dateRangePicker.options"/>
  </div>
  <button class="form-group" type="submit" ng-click="filterMeasurements()">Apply Filter</button>
</form>

<ul class="explorer-list">
  <li ng-repeat="measurement in measurements">
    <div class="column-1-5">
      <a href="/measurement/{{ measurement.report_id }}?input={{ encodeInput(measurement.input) }}">{{ measurement.probe_cc}}</a>
    </div>
    <div class="column-1-5">{{measurement.test_name}}</div>
    <div class="column-1-5">{{measurement.input}}</div>
    <div class="column-1-5">{{measurement.probe_asn}}</div>
    <div class="column-1-5">{{measurement.test_start_time|date:'shortDate'}}</div>
  </li>
</ul>

<ul class="pagination">
  <li ng-hide="queryOptions.pageNumber <= 0">
    <a ng-click="goTo(queryOptions.pageNumber - 1)">< Previous</a>
  </li>
  <li>
  </li>
  <li>
    {{ queryOptions.pageNumber }}
  </li>
  <li ng-hide="queryOptions.pageNumber >= Math.floor(measurements.total / queryOptions.pageSize)">
    <a ng-click="goTo(queryOptions.pageNumber + 1)">Next ></a>
  </li>
  <li>
    {{ total }} total
  </li>
</ul>


